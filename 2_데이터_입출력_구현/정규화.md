# 1. 정규화
> - 테이블의 속성들이 상호 종속적인 관계를 갖는 특성을 이용하여 테이블을 무손실 분해하는 과정.
> - 목적은 가능한 중복을 제거하여 삽입, 삭제, 갱신 이상의 발생 가능성을 줄이는 것이다.

# 2. 제1정규형
> - 릴레이션의 모든 속성이 원자값(Atomic Value)만을 가지는 형태
> - 테이블의 모든 속성 값이 원자 값으로만 되어 있는 정규형이다.

## 2.1 제1정규형 예시 - 비정규화 테이블
| 학번 | 학생명 | 학과코드 | 학과명 | 학과사무실 | 수강과목 | 교수번호 | 성적 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| S001 | 김철수 | D001 | 컴퓨터공학과 | 공학관 401호 | 데이터베이스, 알고리즘 | P001, P002 | A+, B+ |
| S002 | 이영희 | D002 | 정보통신학과 | 공학관 402호 | 데이터베이스 | P001 | A0 |
| S003 | 최민수 | D001 | 컴퓨터공학과 | 공학관 401호 | 운영체제 | P003 | B0 |

## 2.2 제1정규형 변환 결과
| 학번 | 학생명 | 학과코드 | 학과명 | 학과사무실 | 수강과목 | 교수번호 | 성적 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| S001 | 김철수 | D001 | 컴퓨터공학과 | 공학관 401호 | 데이터베이스 | P001 | A+ |
| S001 | 김철수 | D001 | 컴퓨터공학과 | 공학관 401호 | 알고리즘 | P002 | B+ |
| S002 | 이영희 | D002 | 정보통신학과 | 공학관 402호 | 데이터베이스 | P001 | A0 |
| S003 | 최민수 | D001 | 컴퓨터공학과 | 공학관 401호 | 운영체제 | P003 | B0 |

## 2.3 제 1정규형 설명
> - 다중값 속성인 '수강과목', '교수번호', '성적'을 분리하여 모든 속성이 원자값을 갖도록 변환했습니다.
> - 하지만 여전히 학생 정보와 학과 정보가 중복되는 문제가 있어 추가적인 정규화가 필요합니다.

# 3. 제2정규화
> - 테이블 R이 제1정규화이고, 기본키가 아닌 모든 속성이 기본키에 대하여 완전 함수적 종속을 만족하는 정규형

## 3.1 제2정규형 예시 - 1NF 테이블
| 학번 | 학생명 | 학과코드 | 학과명 | 학과사무실 | 수강과목 | 교수번호 | 성적 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| S001 | 김철수 | D001 | 컴퓨터공학과 | 공학관 401호 | 데이터베이스 | P001 | A+ |
| S001 | 김철수 | D001 | 컴퓨터공학과 | 공학관 401호 | 알고리즘 | P002 | B+ |
| S002 | 이영희 | D002 | 정보통신학과 | 공학관 402호 | 데이터베이스 | P001 | A0 |
| S003 | 최민수 | D001 | 컴퓨터공학과 | 공학관 401호 | 운영체제 | P003 | B0 |

※ **부분 함수적 종속 관계**:

- (학번, 수강과목) → 성적, 교수번호 (완전 함수적 종속)
- 학번 → 학생명, 학과코드, 학과명, 학과사무실 (부분 함수적 종속)
- 수강과목 → 교수번호 (부분 함수적 종속, 한 과목은 한 교수가 담당한다고 가정)

## 3.2 제2정규형 변환 결과

**학생 테이블**

| 학번 | 학생명 | 학과코드 | 학과명 | 학과사무실 |
|:---:|:---:|:---:|:---:|:---:|
| S001 | 김철수 | D001 | 컴퓨터공학과 | 공학관 401호 |
| S002 | 이영희 | D002 | 정보통신학과 | 공학관 402호 |
| S003 | 최민수 | D001 | 컴퓨터공학과 | 공학관 401호 |

**과목 테이블**

| 수강과목 | 교수번호 |
|:---:|:---:|
| 데이터베이스 | P001 |
| 알고리즘 | P002 |
| 운영체제 | P003 |

**수강 테이블**

| 학번 | 수강과목 | 성적 |
|:---:|:---:|:---:|
| S001 | 데이터베이스 | A+ |
| S001 | 알고리즘 | B+ |
| S002 | 데이터베이스 | A0 |
| S003 | 운영체제 | B0 |

## 3.3 제2정규형 설명
> - 부분 함수적 종속 관계를 제거하기 위해 테이블을 분리했습니다.
> - **학생 테이블**: 학번 → 학생명, 학과코드, 학과명, 학과사무실
> - **과목 테이블**: 수강과목 → 교수번호
> - **수강 테이블**: (학번, 수강과목) → 성적

# 4. 제3정규형
> - 제2정규형을 만족하고, 이행적 함수적 종속이 제거된 형태
> - 기본키에 비종속적인 속성들 간의 종속관계가 없어야 한다.
> - 비주요 속성이 다른 비주요 속성에 종속되지 않아야 한다.

## 4.1 제3정규형 예시 - 2NF 테이블

**학생 테이블**

| 학번 | 학생명 | 학과코드 | 학과명 | 학과사무실 |
|:---:|:---:|:---:|:---:|:---:|
| S001 | 김철수 | D001 | 컴퓨터공학과 | 공학관 401호 |
| S002 | 이영희 | D002 | 정보통신학과 | 공학관 402호 |
| S003 | 최민수 | D001 | 컴퓨터공학과 | 공학관 401호 |

※ **이행적 함수적 종속 관계**:

- 학번 → 학과코드 → 학과명, 학과사무실

## 4.2 제3정규형 변환 결과

**학생 테이블**

| 학번 | 학생명 | 학과코드 |
|:---:|:---:|:---:|
| S001 | 김철수 | D001 |
| S002 | 이영희 | D002 |
| S003 | 최민수 | D001 |

**학과 테이블**

| 학과코드 | 학과명 | 학과사무실 |
|:---:|:---:|:---:|
| D001 | 컴퓨터공학과 | 공학관 401호 |
| D002 | 정보통신학과 | 공학관 402호 |

**과목 테이블**

| 수강과목 | 교수번호 |
|:---:|:---:|
| 데이터베이스 | P001 |
| 알고리즘 | P002 |
| 운영체제 | P003 |

**수강 테이블**

| 학번 | 수강과목 | 성적 |
|:---:|:---:|:---:|
| S001 | 데이터베이스 | A+ |
| S001 | 알고리즘 | B+ |
| S002 | 데이터베이스 | A0 |
| S003 | 운영체제 | B0 |

## 4.3 제3정규형 설명
> - 이행적 함수적 종속을 제거하기 위해 학생 테이블을 분리했습니다.
> - 학과명과 학과사무실은 학과코드에 종속적이므로 별도 테이블로 분리하였습니다.
> - 이로써 중복 데이터가 제거되고 갱신 이상이 방지됩니다.

# 5. 보이스/코드 정규형(BCNF: Boyce-Codd Normal Form)
> - 제3정규형을 강화한 버전으로, 모든 결정자가 후보키가 되도록 하는 형태
> - 모든 함수적 종속 관계 X -> Y에서 X가 슈퍼키(후보키 포함)여야 함
> - 제3정규형보다 더 엄격한 제약조건을 가짐

## 5.1 BCNF 예시 - 3NF 테이블

**과목 테이블**

| 수강과목 | 교수번호 |
|:---:|:---:|
| 데이터베이스 | P001 |
| 알고리즘 | P002 |
| 운영체제 | P003 |

※ **함수적 종속 관계**:

- 수강과목 → 교수번호 (한 과목은 한 교수만 담당)
- 교수번호 → 수강과목 (한 교수는 한 과목만 담당한다고 가정)
- 이 경우, 수강과목과 교수번호가 모두 결정자이지만, 후보키는 둘 다 될 수 있음

## 5.2 BCNF 변환 결과
**과목 테이블** (이미 BCNF를 만족하므로 변경 없음)

| 수강과목 | 교수번호 |
|:---:|:---:|
| 데이터베이스 | P001 |
| 알고리즘 | P002 |
| 운영체제 | P003 |

**학생 테이블**

| 학번 | 학생명 | 학과코드 |
|:---:|:---:|:---:|
| S001 | 김철수 | D001 |
| S002 | 이영희 | D002 |
| S003 | 최민수 | D001 |

**학과 테이블**

| 학과코드 | 학과명 | 학과사무실 |
|:---:|:---:|:---:|
| D001 | 컴퓨터공학과 | 공학관 401호 |
| D002 | 정보통신학과 | 공학관 402호 |

**수강 테이블**

| 학번 | 수강과목 | 성적 |
|:---:|:---:|:---:|
| S001 | 데이터베이스 | A+ |
| S001 | 알고리즘 | B+ |
| S002 | 데이터베이스 | A0 |
| S003 | 운영체제 | B0 |

## 5.3 BCNF 설명
> - 모든 테이블에서 결정자가 모두 후보키이므로 BCNF를 만족합니다.
> - 본 예시에서는 과목 테이블에서 수강과목과 교수번호가 서로 결정자이며, 둘 다 후보키로 가능합니다.

# 6. 제4정규형
> - BCNF를 만족하고, 다치 종속이 제거된 형태 
> - **다치 종속** : X ->-> Y일 때, X값이 하나인 경우 Y값은 여러개가 대응될 수 있고, 이들 Y값은 X와만 관련있고 릴레이션의 다른 속성과는 무관한 관계

## 6.1 제4정규형 예시 - BCNF 테이블
> - 추가 정보: 각 학생은 여러 취미와 여러 동아리에 가입할 수 있습니다.

**학생_취미_동아리 테이블**

| 학번 | 취미 | 동아리 |
|:---:|:---:|:---:|
| S001 | 독서 | 축구부 |
| S001 | 독서 | 밴드부 |
| S001 | 게임 | 축구부 |
| S001 | 게임 | 밴드부 |
| S002 | 요리 | 요리부 |
| S002 | 요리 | 봉사부 |

※ **다치 종속 관계**:

- 학번 →→ 취미 (학생은 여러 취미를 가질 수 있음)
- 학번 →→ 동아리 (학생은 여러 동아리에 속할 수 있음)
- 취미와 동아리는 서로 독립적임

## 6.2 제4정규형 변환 결과
**학생_취미 테이블**

| 학번 | 취미 |
|:---:|:---:|
| S001 | 독서 |
| S001 | 게임 |
| S002 | 요리 |

**학생_동아리 테이블**

| 학번 | 동아리 |
|:---:|:---:|
| S001 | 축구부 |
| S001 | 밴드부 |
| S002 | 요리부 |
| S002 | 봉사부 |

## 6.3 제4정규형 설명
> - 다치 종속으로 인한 데이터 중복을 제거하기 위해 테이블을 분리했습니다.
> - 취미와 동아리는 서로 독립적이므로 별도의 테이블로 분리하는 것이 효율적입니다.

# 7. 제5정규형
> - 제4정규형을 만족하고, 조인 종속이 후보키를 통해서만 성립되는 형태
> - **조인 종속** : 테이블을 여러 개의 작은 테이블로 분해한 후 다시 조인했을 때 원래의 정보가 정확히 복원되는 경우

## 7.1 제5정규형 예시 - 4NF 테이블
**학생_과목_교수 테이블**

| 학번 | 수강과목 | 교수번호 |
|:---:|:---:|:---:|
| S001 | 데이터베이스 | P001 |
| S001 | 알고리즘 | P002 |
| S002 | 데이터베이스 | P001 |
| S003 | 운영체제 | P003 |

※ **조인 종속 관계**:

- 학생 S001은 데이터베이스(P001)와 알고리즘(P002)을 수강합니다.
- 학생 S002는 데이터베이스(P001)를 수강합니다.
- 학생 S003은 운영체제(P003)를 수강합니다.

## 7.2 제5정규형 변환 결과
**학생_과목 테이블**

| 학번 | 수강과목 |
|:---:|:---:|
| S001 | 데이터베이스 |
| S001 | 알고리즘 |
| S002 | 데이터베이스 |
| S003 | 운영체제 |

**과목_교수 테이블**

| 수강과목 | 교수번호 |
|:---:|:---:|
| 데이터베이스 | P001 |
| 알고리즘 | P002 |
| 운영체제 | P003 |

**학생_교수 테이블**

| 학번 | 교수번호 |
|:---:|:---:|
| S001 | P001 |
| S001 | P002 |
| S002 | P001 |
| S003 | P003 |

## 7.3 제5정규형 설명
> - 세 가지 관계(학생-과목, 과목-교수, 학생-교수)를 모두 분리하여 중복을 제거했습니다.
> - 이 세 테이블을 자연 조인하면 원래의 테이블이 정확히 복원됩니다.
> - 제5정규형은 실무에서는 거의 사용되지 않으며, 일반적으로 3NF나 BCNF까지만 적용합니다.